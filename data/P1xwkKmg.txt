<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><p>using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Xml.Linq;

namespace CivScienceMod
{
    class Program
    {
        static void Main(string[] args)
        {
            DirectoryInfo dir = new DirectoryInfo(Path.Combine(Environment.CurrentDirectory,
                @"Base\Assets\Gameplay\Data"));

            if (!dir.Exists) return;

            FileInfo techFile = new FileInfo(Path.Combine(dir.FullName, "Technologies.xml"));
            FileInfo techRestoreFile = new FileInfo(techFile.FullName.Replace(".xml", ".xml.restore"));

            FileInfo civicFile = new FileInfo(Path.Combine(dir.FullName, "Civics.xml"));
            FileInfo civicRestoreFile = new FileInfo(civicFile.FullName.Replace(".xml", ".xml.restore"));

            if (!techRestoreFile.Exists)
            {
                techFile.CopyTo(techRestoreFile.FullName);
            }

            if (!civicRestoreFile.Exists)
            {
                civicFile.CopyTo(civicRestoreFile.FullName);
            }

            Dictionary<string xdocument> outFiles = new Dictionary<string xdocument>();

            for (int i = 110; i &lt;= 200; i += 10)
            {
                for (int b = 50; b &gt;= 0; b -= 5)
                {
                    CreateCivicMod(civicRestoreFile, i, b);
                    CreateScienceMod(techRestoreFile, i, b);
                }
            }

        }

        private static void CreateCivicMod(FileInfo sourceFile, int multiplier, int boost)
        {
            var doc = XDocument.Load(sourceFile.FullName);

            foreach (var row in doc.Root.Element("Civics").Elements())
            {
                if (row.Attributes().Any(at =&gt; at.Name == "Cost"))
                {
                    var cost = int.Parse(row.Attribute("Cost").Value);
                    cost = (int)(cost * ((float)multiplier / 100));
                    row.SetAttributeValue("Cost", cost);
                }
            }

            foreach (var row in doc.Root.Element("Boosts").Elements())
            {
                row.SetAttributeValue("Boost", boost);
            }

            doc.Save(Path.Combine(sourceFile.DirectoryName, $"Civics_{multiplier}%_Eureka_{boost}%.xml"));
        }

        private static void CreateScienceMod(FileInfo sourceFile, int multiplier, int boost)
        {
            var doc = XDocument.Load(sourceFile.FullName);

            foreach (var row in doc.Root.Element("Technologies").Elements())
            {
                if (row.Attributes().Any(at =&gt; at.Name == "Cost"))
                {
                    var cost = int.Parse(row.Attribute("Cost").Value);
                    cost = (int) (cost*((float) multiplier/100));
                    row.SetAttributeValue("Cost", cost);
                }
            }

            foreach (var row in doc.Root.Element("Boosts").Elements())
            {
                row.SetAttributeValue("Boost", boost);
            }

            doc.Save(Path.Combine(sourceFile.DirectoryName, $"Technologies_{multiplier}%_Eureka_{boost}%.xml"));
        }
    }
}</string></string></p></body></html>
