<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><p>#include &lt; amxmodx &gt;
#include &lt; engine &gt;
#include &lt; fakemeta &gt;

const TASK_CALLS = 1337;

new g_ThinkID;
new g_fwdThink;

public plugin_init( )
{
	register_clcmd( "say /think", "cmdThink" );
}

new calls;

public cmdThink( id )
{
	if( g_ThinkID )
		remove_entity( g_ThinkID );
	
	if( task_exists( TASK_CALLS ) )
		remove_task( TASK_CALLS );
		
	calls = 0;

	log_amx( "-------------------------" );
	
	g_ThinkID = create_entity( "info_target" );
	
	set_pev( g_ThinkID, pev_nextthink, halflife_time( ) + 0.01 );
	set_pev( g_ThinkID, pev_classname, "entThink" );

	if( !g_fwdThink )
		g_fwdThink = register_forward( FM_Think, "fwdThink", 0 );

	set_task( 1.0, "showCalls", .flags = "b" );
	
	return 1;
}

public fwdThink( ent )
{
	if( ent == g_ThinkID )
	{
		calls++;
		set_pev( g_ThinkID, pev_nextthink, halflife_time( ) + 0.01 );		
	}
}

public showCalls( )
{
	log_amx( "%d", calls );
	
	calls = 0;
}</p></body></html>
