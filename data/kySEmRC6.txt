<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body><p>//ZCombatInterface::GetREsltInfo
	else if (ZGetGameTypeManager()-&gt;IsQuestChallengeOnly(ZGetGame()-&gt;GetMatch()-&gt;GetMatchType()))
	{
		strcpy(szFileName, "interface/loadable/rstbg_challenge.jpg");
		pWidget = ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("ChallengeQuestResult");
		if (pWidget)
			pWidget-&gt;Show(true);
		ZBmNumLabel* pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_XP");
		if (pBmNumLabel)
			pBmNumLabel-&gt;SetNumber(0, false);

		pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_BP");
		if (pBmNumLabel)
			pBmNumLabel-&gt;SetNumber(0, false);

		pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_Cleard");
		if (pBmNumLabel)
		{
			pBmNumLabel-&gt;SetNumber(0, false);
		}
	}

//OnDrawCustom
		else if (ZGetGameTypeManager()-&gt;IsQuestChallengeOnly(ZGetGame()-&gt;GetMatch()-&gt;GetMatchType()))
		{

				ZRuleQuestChallenge* pCQRule = NULL;
			if (ZGetGame()-&gt;GetMatch()-&gt;GetRule())
				pCQRule = (ZRuleQuestChallenge*)ZGetGame()-&gt;GetMatch()-&gt;GetRule();
			char szText[256];
			if (pCQRule)
			{
				ZBmNumLabel* pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_XP");
				if (pBmNumLabel)
				{
					sprintf(szText, "%d", pCQRule-&gt;GetRewardXP());
					pBmNumLabel-&gt;SetText(szText);
					pBmNumLabel-&gt;SetAlignmentMode(MAM_RIGHT);
				}

				pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_BP");
				if (pBmNumLabel)
				{
					sprintf(szText, "%d", pCQRule-&gt;GetRewardBP());
					pBmNumLabel-&gt;SetText(szText);
					pBmNumLabel-&gt;SetAlignmentMode(MAM_RIGHT);

				}

				pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_ElapsedTime");
				if (pBmNumLabel)
				{
					sprintf(szText, "%d,%d", pCQRule-&gt;GetCurrTime() / 60, pCQRule-&gt;GetCurrTime() % 60);
					pBmNumLabel-&gt;SetText(szText);

				}
				pBmNumLabel = (ZBmNumLabel*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_Cleard");
				if (pBmNumLabel)
				{
					if (pCQRule-&gt;GetNPC() &gt; 0)
					{
						sprintf(szText, "%d/%d", pCQRule-&gt;GetCurrSector(), pCQRule-&gt;GetRoundMax());
						pBmNumLabel-&gt;SetText(szText);
					}
					else
					{
						sprintf(szText, "%d/%d", pCQRule-&gt;GetCurrSector() + 1, pCQRule-&gt;GetRoundMax());
						pBmNumLabel-&gt;SetText(szText);
					}
				}
	
				//TODO: show rewards max, secrets overwrote my code on that with his own nasty vector


				MPicture* pPicture = (MPicture*)ZApplication::GetGameInterface()-&gt;GetIDLResource()-&gt;FindWidget("CQ_Result_RewardImage");
				if (pPicture)
				{
					pPicture-&gt;SetBitmap(NULL);
					pPicture-&gt;Show(false);
				}
			}</p></body></html>
